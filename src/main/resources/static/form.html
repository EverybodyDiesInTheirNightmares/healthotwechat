<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>form页面</title>

    <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <script type="text/javascript">
        function login() {

            $.ajax({
                //几个参数需要注意一下
                type: "POST",//方法类型
                dataType: "json",//预期服务器返回的数据类型
                url: "/sleeping/entry" ,//url
                data : $('#haha').serialize(),
                success: function (result) {
                    if (result.code == 200) {

                        var redirectUrl = result.url;
                        window.location.href=  "http://127.0.0.1:8080/"+redirectUrl;

                    }else {
                        var redirectUrl = result.url;
                        var message = result.message;
                        alert(message)
                        window.location.href=  "http://127.0.0.1:8080/"+redirectUrl;
                    }
                },
                error : function(result) {
                    alert(result.toString())
                }

            });
        }
    </script>
</head>
<body>


    <form method="post" id="haha">
        手机号码：<input name="phone" type="text">
        午睡时间：<input name="noonTime" type="text">
        夜晚睡眠时间：<input name="nightTime" type="text">
        <!--<input value="提交" type="submit">-->
        <input type="button" value="登录" onclick="login()">
    </form>
</body>
</html>